---
sort: 3
---

# 组合式语法

## script

Vue3 创建 SFC 的方式有多种，包括 Vue2 中使用的选项式语法也支持，但更推荐的是 `setup` 方式：

```vue
<script>
export default {
  components: { },
  props: {},
  emits: [],
  setup(props, { emit, attrs, expose, slots }) {
    // 需要 return template 才能访问
    return { }
  }
}
</script>
```

上面是 Vue3 初期的 `setup` 使用方式，缺点是组件需要手动注册，以及只有 `return` 的值才能在 `template` 中使用

`setup` 方法的第一个参数 `props` 对应组件定义的 `props` 参数对象；第二个参数为上下文对象 `context`，可以解构出 ：

- `emit` 方法，对应 Vue2 的 `$emit` 方法
- `attrs` 对象，对应未在 `props` 和 `emits` 选项中定义的属性和方法
- `expose` 方法，`setup` 是封闭的，只有 `expose` 暴露出的属性和方法才能通过模板应用（`ref`）访问
- `slots` 对象
